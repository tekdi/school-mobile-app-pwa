"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6305],{8884:(Z,y,g)=>{g.d(y,{N1:()=>h});const h=(0,g(2726).fo)("Keyboard")},6305:(Z,y,g)=>{g.d(y,{S:()=>ie});var p=g(5861),e=g(9212),f=g(1929),h=g(8884),_=g(1461),k=g(2919),S=g(4004),M=g(6215),D=g(8698),A=g(1925),R=g(7346),b=g(6814),I=g(6223);const L=["recordbtn"];function J(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"ion-button",18),e.NdJ("click",function(){e.CHM(o);const n=e.oxw(2).$implicit,i=e.oxw(2);return e.KtG(i.readmore(n))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Read more...")))}function U(s,r){1&s&&e._UZ(0,"img",25)}function N(s,r){1&s&&e._UZ(0,"img",26)}function Q(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"div",19),e.NdJ("click",function(){e.CHM(o);const n=e.oxw(2).$implicit,i=e.oxw(2);return e.KtG(i.playFile(n))}),e.TgZ(1,"div",20),e.YNc(2,U,1,0,"img",21)(3,N,1,0,"img",22),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"div",23),e._UZ(7,"img",24)(8,"img",24),e.qZA()()}if(2&s){const o=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngIf",!(null!=o&&null!=o.audio&&o.audio.play)),e.xp6(1),e.Q6J("ngIf",null==o||null==o.audio?null:o.audio.play),e.xp6(2),e.Oqu(null==o||null==o.audio?null:o.audio.duration)}}function q(s,r){if(1&s&&(e.TgZ(0,"ion-text",27),e._uU(1),e.qZA()),2&s){const o=e.oxw(2).$implicit;e.xp6(1),e.Oqu(null==o?null:o.time)}}function Y(s,r){if(1&s&&(e.TgZ(0,"div",5)(1,"ion-text"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,J,3,3,"ion-button",15)(5,Q,9,3,"div",16)(6,q,2,1,"ion-text",17),e.qZA()),2&s){const o=e.oxw(),t=o.$implicit,n=o.index;e.Gre("bot-content__message ",null==t?null:t.type,""),e.Q6J("ngClass",0!==n?"msg-block":""),e.xp6(2),e.Oqu(e.lcZ(3,8,null==t?null:t.displayMsg)),e.xp6(2),e.Q6J("ngIf",null==t?null:t.readMore),e.xp6(1),e.Q6J("ngIf","audio"==(null==t?null:t.messageType)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.time)}}function K(s,r){1&s&&e._UZ(0,"ion-icon",34)}function W(s,r){1&s&&e._UZ(0,"ion-icon",35)}function G(s,r){1&s&&e._UZ(0,"ion-icon",34)}function F(s,r){1&s&&e._UZ(0,"ion-icon",36)}function H(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"div",28)(1,"div",29),e.NdJ("click",function(){e.CHM(o);const n=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.msgLiked(n,"like"))}),e.YNc(2,K,1,0,"ion-icon",30)(3,W,1,0,"ion-icon",31),e.qZA(),e.TgZ(4,"div",32),e.NdJ("click",function(){e.CHM(o);const n=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.msgLiked(n,"dislike"))}),e.YNc(5,G,1,0,"ion-icon",30)(6,F,1,0,"ion-icon",33),e.qZA()()}if(2&s){const o=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",!o.likeMsg),e.xp6(1),e.Q6J("ngIf",o.likeMsg),e.xp6(2),e.Q6J("ngIf",!o.dislikeMsg),e.xp6(1),e.Q6J("ngIf",o.dislikeMsg)}}function $(s,r){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,Y,7,10,"div",13)(2,H,7,4,"div",14),e.qZA()),2&s){const o=r.$implicit,t=r.index;e.xp6(1),e.Q6J("ngIf",""!==(null==o?null:o.type)),e.xp6(1),e.Q6J("ngIf","received"===(null==o?null:o.type)&&0!==t&&o.timeStamp&&!(null!=o&&null!=o.audio&&o.audio.file)&&"An unknown error occured, please try after sometime"!==o.message)}}function j(s,r){if(1&s&&(e.TgZ(0,"div",11),e.YNc(1,$,3,2,"div",12),e.qZA()),2&s){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.botMessages)}}function z(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"ion-input",37),e.NdJ("keyup.enter",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.handleMessage())})("ngModelChange",function(n){e.CHM(o);const i=e.oxw();return e.KtG(i.textMessage=n)}),e.ALo(1,"translate"),e.qZA()}if(2&s){const o=e.oxw();e.Q6J("disabled",o.disabled)("placeholder",e.lcZ(1,3,"Type here"))("ngModel",o.textMessage)}}function V(s,r){if(1&s&&(e.TgZ(0,"div",38),e._UZ(1,"ion-icon",39),e.TgZ(2,"ion-label"),e._uU(3),e.qZA()()),2&s){const o=e.oxw();e.xp6(3),e.Oqu(o.durationDisplay)}}function X(s,r){1&s&&(e.TgZ(0,"ion-label",40)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.hij(" << ",e.lcZ(3,1,"Swipe left to cancel"),""))}function ee(s,r){1&s&&e._UZ(0,"ion-icon",41),2&s&&e.Q6J("scrollY",!0)}function te(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"ion-icon",42),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.handleMessage())}),e.qZA()}}let ie=(()=>{var s;class r{constructor(t,n,i,a,d,l,m,c){this.record=t,this.ngZone=n,this.headerService=i,this.messageApi=a,this.translate=d,this.telemetryGeneratorService=l,this.storage=m,this.platform=c,this.botMessages=[],this.textMessage="",this.botStartTimeStamp=Date.now(),this.config={},this.botMessageEvent=new e.vpe,this.navigated=!1,this.startRecording=!1,this.duration=0,this.durationDisplay="",this.disabled=!1,this.defaultLoaderMsg={identifier:"",message:this.translate.instant("Loading..."),messageType:"text",displayMsg:this.translate.instant("Loading..."),type:"received",time:"",timeStamp:"",readMore:!1,likeMsg:!1,dislikeMsg:!1,requestId:""},this.botMessages=[],this.audioRef=new Audio}ngOnInit(){var t=this;this.initialiseBot(),this.platform.backButton.subscribeWithPriority(11,(0,p.Z)(function*(){t.handleBackNavigation()})),this.headerService.headerEventEmitted$.subscribe(n=>{"back"==n&&!this.navigated&&(this.navigated=!0,console.log("bot message back event "),this.handleBackNavigation())}),h.N1.addListener("keyboardWillShow",()=>{console.log("keyboard will show"),this.content.scrollToBottom()}),this.record.startEndEvent$.subscribe(n=>{this.ngZone.run(()=>{this.startRecording=n,this.calculation()})}),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&this.audioRef&&(this.botMessages.forEach(n=>{n.audio&&(n.audio.play=!1)}),this.audioRef.pause())})}ngOnChanges(){var t,n;console.log("ng onchanges ",this.config),null!==(t=this.config)&&void 0!==t&&t.notification&&null!==(n=this.config)&&void 0!==n&&null!==(n=n.notif)&&void 0!==n&&n.body&&(this.textMessage=this.config.notif.body,this.handleMessage())}ionViewWillEnter(){this.botMessages=[],this.navigated=!1}ngAfterViewInit(){this.record.gestureControl(this.recordbtn)}initialiseBot(){var t=this;return(0,p.Z)(function*(){t.botMessages=[];let n=`WELCOME_TO_${t.config.type.toUpperCase()}_SAKHI`;0===t.botMessages.length&&t.botMessages.push({messageType:"text",displayMsg:n,type:"received"}),t.content.scrollToBottom(300).then(()=>{t.content.scrollToBottom(300)}),yield t.messageApi.getAllChatMessages(t.config.type).then(i=>{console.log("Bot response",i),i.forEach(a=>{var d;let l={identifier:"",message:"",messageType:"",type:"",displayMsg:"",audio:{file:"",duration:"",play:!1},time:(new Date).toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"}),timeStamp:"",readMore:!1,likeMsg:!1,dislikeMsg:!1,requestId:""};var m;l.message=a.message,l.identifier=a.identifier,a.message.length>200&&a.message.length-200>100?(l.displayMsg=a.message.substring(0,200),l.readMore=!0):(l.displayMsg=a.message.substring(0,200),l.readMore=!1),l.messageType=a.messageType,l.type=0===a.fromMe?"received":"sent",l.time=new Date(JSON.parse(a.ts)).toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"}),l.timeStamp=a.ts,l.requestId=null!==(d=a.requestId)&&void 0!==d?d:"",l.likeMsg=1==a.reaction,l.dislikeMsg=0==a.reaction,"audio"==a.messageType&&(l.audio.file="sent"==l.type?a.mediaData:a.mediaUrl,l.audio.duration=null!==(m=a.duration)&&void 0!==m?m:""),t.botMessages.push(l)}),console.log("botMessages ",t.botMessages)}),t.config.notif&&(t.textMessage=t.config.notif.body,t.handleMessage())})()}handleMessage(){var t=this;return(0,p.Z)(function*(){t.ngZone.run(()=>{t.chat={identifier:"",message:"",messageType:"text",type:"sent",displayMsg:"",time:(new Date).toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"}),timeStamp:"",readMore:!1,likeMsg:!1,dislikeMsg:!1,requestId:""},t.textMessage.replace(/\s/g,"").length>0&&(h.N1.hide(),t.chat.message=t.textMessage,t.chat.displayMsg=t.textMessage,t.chat.timeStamp=Date.now(),t.botMessages.push(t.chat),t.saveChatMessage(t.chat),t.content.scrollToBottom(300).then(()=>{t.content.scrollToBottom(300)}),t.botMessages=JSON.parse(JSON.stringify(t.botMessages)),t.botMessages.push(t.defaultLoaderMsg),t.content.scrollToBottom(300).then(()=>{t.content.scrollToBottom(300)}))}),yield t.makeBotAPICall(t.textMessage,"")})()}saveChatMessage(t){const n={identifier:(0,S.Z)(),message:t.message,botType:this.config.type,fromMe:"sent"==t.type?1:0,messageType:t.messageType,mediaMimeType:t.messageType,mediaData:"sent"==t.type&&"audio"==t.messageType?t.audio.file:"",mediaUrl:"received"==t.type&&"audio"==t.messageType?t.audio.file:"",duration:"audio"==t.messageType?t.audio.duration:"",requestId:t.requestId,ts:t.timeStamp,reaction:-1};this.messageApi.saveChatMessage(n).then()}makeBotAPICall(t,n){var i=this;return(0,p.Z)(function*(){i.textMessage="",i.disabled=!0;let a=i.botMessages.length,d=yield i.storage.getData("lang");yield i.messageApi.getBotMessage(t,n,i.config.type,d).then(l=>{i.botMessages=JSON.parse(JSON.stringify(i.botMessages)),i.botMessages.forEach(function(){var m=(0,p.Z)(function*(c,E){if(200===l.responseCode){let u=l.body;if(E==a-1&&"received"===c.type&&(c.time=(new Date).toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"}),c.timeStamp=Date.now(),c.requestId=l.requestHeaders["X-Request-ID"],null!=u&&u.output)){var C,x,T,O;if(i.disabled=!1,c.message=null===(C=u.output)||void 0===C?void 0:C.text,(null==u||null===(x=u.output)||void 0===x?void 0:x.text.length)>200&&(null==u?void 0:u.output.text.length)-200>100?(c.displayMsg=u.output.text.substring(0,200),c.readMore=!0):c.displayMsg=null===(O=u.output)||void 0===O?void 0:O.text,i.content.scrollToBottom(300).then(()=>{i.content.scrollToBottom(300)}),i.saveChatMessage(c),null!=u&&null!==(T=u.output)&&void 0!==T&&T.audio){var P;let w=yield i.fetchAudioDuration(u.output.audio);console.log("duration ",w);let v={identifier:"",message:"",messageType:"",displayMsg:"",audio:{file:"",duration:"",play:!1},type:"received",time:(new Date).toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"}),timeStamp:Date.now(),readMore:!1,likeMsg:!1,dislikeMsg:!1,requestId:""};v.audio={file:null===(P=u.output)||void 0===P?void 0:P.audio,duration:w,play:!1},v.messageType="audio",i.ngZone.run(()=>{i.botMessages.push(v),i.saveChatMessage(v),i.content.scrollToBottom(300).then(()=>{i.content.scrollToBottom(300).then()})})}i.content.scrollToBottom(300).then(()=>{i.content.scrollToBottom(300).then()})}}else{var B;c.message=l.errorMesg?l.errorMesg:null!==(B=l.data)&&void 0!==B&&B.detail?l.data.detail:"An unknown error occured, please try after sometime",c.displayMsg=c.message,c.time=(new Date).toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"}),c.timeStamp=Date.now(),i.saveChatMessage(c),i.disabled=!1}});return function(c,E){return m.apply(this,arguments)}}())}).catch(l=>{i.disabled=!1,console.log("catch error ",l),i.botMessages[a-1].message="An unknown error occured, please try after sometime",i.botMessages[a-1].displayMsg="An unknown error occured, please try after sometime",i.botMessages[a-1].time=(new Date).toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"}),i.botMessages[a-1].timeStamp=Date.now(),l.body.detail.length>0&&"type_error.enum"===l.body.detail[0].type&&(i.botMessages[a-1].message="Sorry, this language is not currently supported.",i.botMessages[a-1].displayMsg="Sorry, this language is not currently supported."),i.saveChatMessage(i.botMessages[a-1])})})()}readmore(t){let n=t.displayMsg,i=t.displayMsg.length;t.message!==n?(t.message.length<i+200?(t.displayMsg=n+t.message.substring(i,t.message.length),t.readMore=!1):(t.displayMsg=n+t.message.substring(i,i+200),t.readMore=!0),this.content.scrollToBottom(300).then(()=>{this.content.scrollToBottom(300).then()})):t.readMore=!1}playFile(t){var n=this;return(0,p.Z)(function*(){let i=t.audio,a="";n.botMessages.forEach(d=>{var l;null!==(l=d.audio)&&void 0!==l&&l.play&&t.timeStamp!==d.timeStamp&&(d.audio.play=!1)}),"sent"===t.type?(a=`data:audio/aac;base64,${(yield _.fy.readFile({path:i.file,directory:_.tP.Data})).data}`,i.play=!i.play):"received"===t.type&&(a=i.file,i.play=!i.play),n.audioRef.src="",n.audioRef.src=a,n.audioRef.load(),n.audioRef.preload="auto",n.audioRef.controls=!0,n.audioRef.oncanplaythrough=()=>{i.play?n.audioRef.play():n.audioRef.pause()},n.audioRef.ondurationchange=d=>{console.log("ondurationchange ",d)},n.audioRef.ontimeupdate=d=>{},n.audioRef.onended=()=>{i.play=!1,n.audioRef.pause()}})()}handleBackNavigation(){let t=Date.now()-this.botStartTimeStamp;if(this.botMessages.length>0){let n={audio:0,text:0};this.botMessages.forEach(i=>{"text"==i.messageType?n.text++:"audio"==i.messageType&&(n.audio++,this.audioRef&&(i.audio&&(i.audio.play=!1),this.audioRef.pause()))}),console.log("result count ",n),this.botMessageEvent.emit({audio:n.audio,text:n.text,duration:t/1e3})}else this.botMessageEvent.emit({audio:0,text:0,duration:t/1e3});this.botMessages=[]}cancelRecording(){var t=this;return(0,p.Z)(function*(){console.log("cancel recording"),yield t.record.stopRecognition("audio").then(n=>{console.log("res on recorded data ",n)}),t.startRecording=!1})()}calculation(){if(!this.startRecording)return this.duration=0,void(this.durationDisplay="");this.duration+=1;const t=Math.floor(this.duration/60),n=(this.duration%60).toString().padStart(2,"0");this.durationDisplay=`${t}:${n}`,setTimeout(()=>{this.calculation()},1e3)}onLongPressStart(){var t=this;return(0,p.Z)(function*(){console.log("long press start"),(yield(yield k.S.hasAudioRecordingPermission()).value)?t.record.startRecognition(""):yield k.S.requestAudioRecordingPermission()})()}onLongPressEnd(){var t=this;return(0,p.Z)(function*(){console.log("long press end"),yield t.record.stopRecognition("audio").then(function(){var n=(0,p.Z)(function*(i){if(console.log("result on recorded data ",i),i.value&&i.value.recordDataBase64){t.chat={identifier:"",message:"",messageType:"",displayMsg:"",audio:{file:"",duration:"",play:!1},type:"sent",time:(new Date).toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"}),timeStamp:"",readMore:!1,likeMsg:!1,dislikeMsg:!1,requestId:""};const a=i.value.recordDataBase64;console.log("..................",i,t.durationDisplay);const d=(new Date).getTime()+".wav";yield _.fy.writeFile({path:d,directory:_.tP.Data,data:a}),t.ngZone.run(()=>{t.chat.messageType="audio",t.chat.audio={file:d,base64Data:a,duration:t.getTimeString(i.value.msDuration),play:!1},t.chat.timeStamp=Date.now(),t.botMessages.push(t.chat),t.saveChatMessage(t.chat),t.content.scrollToBottom(300).then(()=>{t.content.scrollToBottom(300)}),t.botMessages.push(t.defaultLoaderMsg),t.content.scrollToBottom(300).then(()=>{t.content.scrollToBottom(300)})}),t.makeBotAPICall("",a)}});return function(i){return n.apply(this,arguments)}}())})()}getTimeString(t){let n=Math.floor(t/1e3/60),i=Math.floor(t/1e3-60*n);return n.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")}fetchAudioDuration(t){const n=new AudioContext;return fetch(t).then(i=>i.arrayBuffer()).then(i=>n.decodeAudioData(i)).then(i=>{const a=i.duration;return console.log(`The audio file duration is ${a} seconds`),Math.floor(a/60).toString().padStart(2,"0")+":"+Math.floor(a%60).toString().padStart(2,"0")}).catch(i=>"")}msgLiked(t,n){this.botMessages.forEach((i,a)=>{if(t.timeStamp==i.timeStamp){let l={id:this.botMessages[a-1].message,type:"Request"},m=[];m.push({id:t.requestId,type:"X-Request-ID"}),"text"==this.botMessages[a-1].messageType&&m.push(l),"like"==n?(i.likeMsg=!0,i.dislikeMsg=!1,this.messageApi.updateMessageReactions(i.identifier,1),this.telemetryGeneratorService.generateInteractTelemetry("TOUCH","message-liked","bot",`${this.config.type}-sakhi`,void 0,void 0,void 0,m)):(t.dislikeMsg=!0,t.likeMsg=!1,this.messageApi.updateMessageReactions(i.identifier,0),this.telemetryGeneratorService.generateInteractTelemetry("TOUCH","message-disliked","bot",`${this.config.type}-sakhi`,void 0,void 0,void 0,m))}})}}return(s=r).\u0275fac=function(t){return new(t||s)(e.Y36(M.sQ),e.Y36(e.R0b),e.Y36(M.uj),e.Y36(M.Vn),e.Y36(D.sK),e.Y36(A.E),e.Y36(M.V1),e.Y36(R.t4))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-bot-messages"]],viewQuery:function(t,n){if(1&t&&(e.Gf(L,5,e.SBq),e.Gf(f.W2,7)),2&t){let i;e.iGM(i=e.CRH())&&(n.recordbtn=i.first),e.iGM(i=e.CRH())&&(n.content=i.first)}},inputs:{config:"config"},outputs:{botMessageEvent:"botMessageEvent"},features:[e.TTD],decls:11,vars:9,consts:[["id","content",3,"fullscreen"],["class","bot-content",4,"ngIf"],[1,"bot-input"],["aria-label","","value","","fill","outline","shape","round",3,"disabled","placeholder","ngModel","keyup.enter","ngModelChange",4,"ngIf"],["class","input_record",4,"ngIf"],[3,"ngClass"],["recordbtn",""],["class","cancel-record",4,"ngIf"],["fill","clear","size","small",3,"disabled","touchstart","touchend"],["aria-hidden","true","class","audio-record-mic right icon","src","assets/icon/bot-audio.svg",3,"scrollY",4,"ngIf"],["class","audio-record-mic right icon","name","send",3,"click",4,"ngIf"],[1,"bot-content"],[4,"ngFor","ngForOf"],[3,"class","ngClass",4,"ngIf"],["class","action-div",4,"ngIf"],["fill","clear","size","small",3,"click",4,"ngIf"],["class","audio_msg",3,"click",4,"ngIf"],["class","time",4,"ngIf"],["fill","clear","size","small",3,"click"],[1,"audio_msg",3,"click"],[1,"play_audio"],["src","../../../assets/icon/play.svg","alt","",4,"ngIf"],["src","../../../assets/icon/pause.svg","alt","",4,"ngIf"],[1,"audio-wave"],["src","../../../assets/icon/waveform.svg","alt",""],["src","../../../assets/icon/play.svg","alt",""],["src","../../../assets/icon/pause.svg","alt",""],[1,"time"],[1,"action-div"],[1,"action_button",3,"click"],["class","like","aria-hidden","true","src","assets/icon/thumb-up.svg",4,"ngIf"],["aria-hidden","true","src","assets/icon/like.svg",4,"ngIf"],[1,"action_button","unlike",3,"click"],["aria-hidden","true","src","assets/icon/dislike.svg",4,"ngIf"],["aria-hidden","true","src","assets/icon/thumb-up.svg",1,"like"],["aria-hidden","true","src","assets/icon/like.svg"],["aria-hidden","true","src","assets/icon/dislike.svg"],["aria-label","","value","","fill","outline","shape","round",3,"disabled","placeholder","ngModel","keyup.enter","ngModelChange"],[1,"input_record"],["aria-hidden","true","name","mic",1,"audio-record-mic","on-record"],[1,"cancel-record"],["aria-hidden","true","src","assets/icon/bot-audio.svg",1,"audio-record-mic","right","icon",3,"scrollY"],["name","send",1,"audio-record-mic","right","icon",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content",0),e.YNc(1,j,2,1,"div",1),e.TgZ(2,"div",2),e.YNc(3,z,2,5,"ion-input",3)(4,V,4,1,"div",4),e.TgZ(5,"div",5,6),e.YNc(7,X,4,3,"ion-label",7),e.TgZ(8,"ion-button",8),e.NdJ("touchstart",function(){return n.onLongPressStart()})("touchend",function(){return n.onLongPressEnd()}),e.YNc(9,ee,1,1,"ion-icon",9),e.qZA()(),e.YNc(10,te,1,0,"ion-icon",10),e.qZA()()),2&t&&(e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",n.botMessages.length>0),e.xp6(2),e.Q6J("ngIf",!n.startRecording),e.xp6(1),e.Q6J("ngIf",n.startRecording),e.xp6(1),e.Q6J("ngClass",n.startRecording?"cancel-div":""),e.xp6(2),e.Q6J("ngIf",n.startRecording),e.xp6(1),e.Q6J("disabled",n.disabled),e.xp6(1),e.Q6J("ngIf",0==n.textMessage.length),e.xp6(1),e.Q6J("ngIf",n.textMessage.length>0))},dependencies:[b.mk,b.sg,b.O5,I.JJ,I.On,f.YG,f.W2,f.gu,f.pK,f.Q$,f.yW,f.j9,D.X$],styles:["ion-content[_ngcontent-%COMP%]{--padding-top: 0px;height:90%}.bot-content[_ngcontent-%COMP%]{padding:1rem;overflow:auto}.bot-content[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{margin-top:1rem}.bot-content__message[_ngcontent-%COMP%]{line-height:normal;letter-spacing:-.3px;background:var(--ion-color-primary-contrast);padding:1rem 1rem 10px;max-width:80%;position:relative;width:-moz-fit-content;width:fit-content;box-shadow:0 .25rem .25rem #0000000d;white-space:pre-line}.bot-content__message[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:flex}.bot-content__message[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#00000040;display:flex;justify-content:flex-end;font-size:.688rem;letter-spacing:.031rem;padding-top:.25rem}.bot-content__message.received[_ngcontent-%COMP%]{border-radius:1rem 1rem 1rem 0px}.bot-content__message.sent[_ngcontent-%COMP%]{background:#DCF7C5;margin-left:auto;border-radius:1rem 1rem 0px}.bot-input[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;padding:1rem;background:var(--ion-color-primary-contrast);box-shadow:0 -.33px #a6a6aa;display:flex;align-items:center}.bot-input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{width:90%}.bot-input[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}.bot-input[_ngcontent-%COMP%]   .input_record[_ngcontent-%COMP%]{width:30%;display:flex;align-items:center}.bot-input[_ngcontent-%COMP%]   .input_record[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:1rem}.bot-input[_ngcontent-%COMP%]   .cancel-div[_ngcontent-%COMP%]{display:flex;width:100%;margin-left:1rem;align-items:center}.bot-input[_ngcontent-%COMP%]   .cancel-record[_ngcontent-%COMP%]{width:90%}.bot-input[_ngcontent-%COMP%]   .audio-record-mic[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;fill:var(--ion-color-medium)}.bot-input[_ngcontent-%COMP%]   .on-record[_ngcontent-%COMP%]{fill:var(--ion-color-primary)!important}.bot-input[_ngcontent-%COMP%]   .sc-ion-input-md-h[_ngcontent-%COMP%]{height:2.25rem;min-height:auto;padding:0 .5rem!important;--border-color: gray;caret-color:gray!important;--highlight-color: gray !important;--highlight-color-focused: gray !important}.audio_msg[_ngcontent-%COMP%]{display:flex;background:#c6dfc6;padding:5px;border-radius:10px}.audio_msg[_ngcontent-%COMP%]   .play_audio[_ngcontent-%COMP%]{display:flex;flex-direction:column}.audio_msg[_ngcontent-%COMP%]   .play_audio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:8px;text-align:center}.audio_msg[_ngcontent-%COMP%]   .audio-wave[_ngcontent-%COMP%]{padding-left:5px}.audio_msg[_ngcontent-%COMP%]   .audio-wave[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.audio_msg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.action-div[_ngcontent-%COMP%]{display:flex;margin-bottom:1rem;margin-top:-.6rem;margin-left:.3rem}.action_button[_ngcontent-%COMP%]{padding:.1rem .5rem;width:-moz-fit-content;width:fit-content;box-shadow:0 .25rem .25rem #0000000d;white-space:pre-line;border-radius:16px;background:white;border:.1px solid grey;transform:scale(1)}.unlike[_ngcontent-%COMP%]{transform:scale(-1);margin-left:.75rem!important}"]}),r})()}}]);