(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2921],{2921:(y,p,a)=>{"use strict";a.r(p),a.d(p,{MyPitaraPageModule:()=>U});var s=a(1929),d=a(6814),u=a(6223),l=a(2724),_=a(5861),m=a(6924),f=a(3522),h=a(3603),P=a(546),C=a.n(P),t=a(9212),M=a(1229),b=a(4874),x=a(2579),v=a(8698);function O(i,c){1&i&&(t.TgZ(0,"div",15)(1,"div",16)(2,"div",17),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"No contents")))}function w(i,c){if(1&i&&(t.TgZ(0,"ion-card"),t._UZ(1,"img",22),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("src",o.metaData.thumbnail,t.LSH)}}function Z(i,c){if(1&i&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o.metaData.name))}}function T(i,c){if(1&i){const o=t.EpF();t.TgZ(0,"div",18)(1,"div",19),t.NdJ("click",function(){const r=t.CHM(o).$implicit,g=t.oxw();return t.KtG(g.playContent(r))}),t.YNc(2,w,2,1,"ion-card",20)(3,Z,3,3,"div",21),t.qZA()()}if(2&i){const o=c.$implicit;t.xp6(2),t.Q6J("ngIf",null==o||null==o.metaData?null:o.metaData.thumbnail),t.xp6(1),t.Q6J("ngIf",null==o||null==o.metaData?null:o.metaData.name)}}function k(i,c){1&i&&(t.TgZ(0,"div",24)(1,"div",25),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Click on New Playlist button to create your first playlist")))}function A(i,c){if(1&i&&(t.TgZ(0,"div",34),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.name," ")}}function L(i,c){if(1&i){const o=t.EpF();t.TgZ(0,"div")(1,"div",26),t.NdJ("click",function(){const r=t.CHM(o).$implicit,g=t.oxw();return t.KtG(g.navigateToDetails(r))}),t.TgZ(2,"div",27)(3,"ion-card"),t._UZ(4,"img",28),t.qZA(),t._UZ(5,"div",29)(6,"div",30),t.qZA(),t.YNc(7,A,2,1,"div",31),t.TgZ(8,"div",32),t.NdJ("click",function(){const r=t.CHM(o).$implicit,g=t.oxw();return t.KtG(g.openModal(r))}),t._UZ(9,"ion-icon",33),t.qZA()()()}if(2&i){const o=c.$implicit;t.xp6(7),t.Q6J("ngIf",null==o?null:o.name)}}const D=[{path:"",component:(()=>{var i;class c{constructor(e,n,r,g,I){this.headerService=e,this.contentService=n,this.router=r,this.playListService=g,this.modalCtrl=I,this.contentList=[],this.playlists=[],this.isNavigate=!0}ngOnInit(){var e=this;return(0,_.Z)(function*(){e.headerService.deviceBackbtnEmitted$.subscribe(n=>{(n.name="backBtn")&&e.tabViewWillEnter()})})()}tabViewWillEnter(){var e=this;return(0,_.Z)(function*(){yield e.headerService.showHeader("My Jaadui Pitara"),e.getRecentlyviewedContent(),e.getPlaylistContent()})()}ionViewWillEnter(){this.tabViewWillEnter()}viewAllCards(e){this.router.navigate(["/view-all"],{state:{type:e}})}getPlaylistContent(){var e=this;return(0,_.Z)(function*(){e.playlists=[],yield e.playListService.getAllPlayLists("guest").then(n=>{e.playlists=n}).catch(n=>{console.log("error",n)})})()}getRecentlyviewedContent(){var e=this;return(0,_.Z)(function*(){yield e.contentService.getRecentlyViewedContent("guest").then(n=>{e.contentList=n,e.contentList.forEach(r=>{var g;r.metaData.thumbnail=r.metaData.mimetype===h.Gn.YOUTUBE?e.loadYoutubeImg(r.metaData):!r.metaData.thumbnail||null!=r&&null!==(g=r.metaData.identifier)&&void 0!==g&&g.startsWith("do_")?f.l.getImagePath(r.metaData.mimeType||r.metaData.mimetype):r.metaData.thumbnail}),console.log("contentList",e.contentList)}).catch(n=>{console.log("error",n)})})()}createList(){this.router.navigate(["/create-playlist"])}deletePlaylist(e){var n=this;return(0,_.Z)(function*(){yield n.playListService.deletePlayList(e.identifier).then(r=>{n.getPlaylistContent()}).catch(r=>{console.log("err",r)})})()}openModal(e){var n=this;return(0,_.Z)(function*(){n.isNavigate=!1;const r=yield n.modalCtrl.create({component:m.k,cssClass:"add-to-pitara",breakpoints:[0,1],showBackdrop:!1,initialBreakpoint:1,handle:!1,handleBehavior:"none"});yield r.present(),r.onWillDismiss().then(g=>{n.isNavigate=!0,g.data&&"delete"===g.data.type?n.deletePlaylist(e):g.data&&"edit"===g.data.type&&n.router.navigate(["/create-playlist"],{state:{playlists:e,islocal:!0,status:"edit"}})})})()}loadYoutubeImg(e){let n=e.identifier;return n&&n.startsWith("do_")&&(n=C()(e.url)),`https://img.youtube.com/vi/${n}/mqdefault.jpg`}navigateToDetails(e){this.isNavigate&&this.router.navigate(["/playlist-details"],{state:{playlist:e}})}playContent(e){var n=this;return(0,_.Z)(function*(){yield n.router.navigate(["/player"],{state:{content:e}})})()}}return(i=c).\u0275fac=function(e){return new(e||i)(t.Y36(M.u),t.Y36(b._),t.Y36(l.F0),t.Y36(x.r),t.Y36(s.IN))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mypitara"]],decls:26,vars:17,consts:[[3,"fullscreen"],[1,"grid-slider"],[1,"grid-slider__header"],[1,""],[1,"grid-slider__header__link",3,"click"],["class","viewed-content",4,"ngIf"],[1,"grid-slider__container"],["class","grid-slider__container__card",4,"ngFor","ngForOf"],[1,"playlist"],[1,"playlist__header"],[1,"playlist__header__button",3,"click"],["slot","end","aria-hidden","true","src","../../../assets/icon/Add-circle-outline.svg"],["class","playlist-bot",4,"ngIf"],[1,"playlist__container"],[4,"ngFor","ngForOf"],[1,"viewed-content"],[1,"viewed-content__info"],[1,"viewed-content__info__text"],[1,"grid-slider__container__card"],[3,"click"],[4,"ngIf"],["class","card-title",4,"ngIf"],["alt","",3,"src"],[1,"card-title"],[1,"playlist-bot"],[1,"playlist-bot__text"],[1,"playlist__container__items",3,"click"],[1,"playlist__container__items__cards"],["src","/assets/images/Playlist.png","alt",""],[1,"layer1"],[1,"layer2"],["class","playlist__container__items__metadata",4,"ngIf"],[1,"kabab-menu-icon",3,"click"],["slot","end","aria-hidden","true","src","../../../assets/icon/kabab-icon.svg"],[1,"playlist__container__items__metadata"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.NdJ("click",function(){return n.viewAllCards("recentlyviewed")}),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.YNc(9,O,5,3,"div",5),t.TgZ(10,"div",6),t.YNc(11,T,4,2,"div",7),t.qZA()(),t.TgZ(12,"div",8)(13,"div",9)(14,"div",3),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",10),t.NdJ("click",function(){return n.viewAllCards("playlist")}),t.TgZ(18,"ion-button"),t._uU(19),t.ALo(20,"translate"),t._UZ(21,"ion-icon",11),t.qZA()()(),t.TgZ(22,"div"),t.YNc(23,k,4,3,"div",12),t.qZA(),t.TgZ(24,"div",13),t.YNc(25,L,10,1,"div",14),t.qZA()()()),2&e&&(t.Q6J("fullscreen",!0),t.xp6(4),t.Oqu(t.lcZ(5,9,"Recently Viewed")),t.xp6(3),t.Oqu(t.lcZ(8,11,"View All")),t.xp6(2),t.Q6J("ngIf",!n.contentList.length),t.xp6(2),t.Q6J("ngForOf",n.contentList),t.xp6(4),t.Oqu(t.lcZ(16,13,"My Playlist")),t.xp6(4),t.hij("",t.lcZ(20,15,"New Playlist")," "),t.xp6(4),t.Q6J("ngIf",!n.playlists.length),t.xp6(2),t.Q6J("ngForOf",n.playlists))},dependencies:[s.YG,s.PM,s.W2,s.gu,d.sg,d.O5,v.X$],styles:["ion-content[_ngcontent-%COMP%]{--padding-top: 35px !important}.grid-slider[_ngcontent-%COMP%]{padding:1rem;margin-top:7px}.grid-slider__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.75rem;color:var(--ion-color-dark);font-weight:700}.grid-slider__header__link[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.grid-slider__container[_ngcontent-%COMP%]{display:grid;gap:.75rem;overflow-y:auto;overflow-x:auto;grid-auto-flow:column;justify-content:flex-start;padding:1rem 0 3rem}.grid-slider__container__card[_ngcontent-%COMP%]{width:7.5rem;height:4.5rem}.grid-slider__container__card[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:0;box-shadow:none;border-radius:.5rem;height:100%}.grid-slider__container__card[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:4.5rem;width:100%}.grid-slider__container__card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.75rem;font-style:normal;font-weight:400;color:#2f2c2a;padding-top:.5rem;line-height:.875rem;word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.playlist[_ngcontent-%COMP%]{padding:0 1rem;padding-top:0}.playlist__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.75rem;color:var(--ion-color-dark);font-weight:700}.playlist__header__button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-left:.5rem}.playlist__container[_ngcontent-%COMP%]{padding-top:1rem}.playlist__container__items[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-start;align-items:flex-start;gap:.5rem;margin-bottom:1.5rem}.playlist__container__items__cards[_ngcontent-%COMP%]{width:7.5rem;height:4.5rem;min-width:7.5rem;position:relative}.playlist__container__items[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:0;box-shadow:none;border-radius:.5rem;height:100%}.playlist__container__items[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.playlist__container__items[_ngcontent-%COMP%]   .layer1[_ngcontent-%COMP%]{height:4.5rem;background-color:#7d7d7d;margin-top:-1px;position:absolute;top:-.188rem;width:calc(100% - 12px);left:.375rem;right:.375rem;border-radius:.5rem;z-index:-1}.playlist__container__items[_ngcontent-%COMP%]   .layer2[_ngcontent-%COMP%]{position:absolute;top:-8px;width:calc(100% - 20px);height:100%;left:.625rem;right:.625rem;border-radius:.5rem;background:#C3C3C3;z-index:-2;opacity:.7}.playlist__container__items__metadata[_ngcontent-%COMP%]{font-size:.75rem;word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin-right:1.5rem}.playlist__container__items[_ngcontent-%COMP%]   .kabab-menu-icon[_ngcontent-%COMP%]{position:absolute;right:1rem}.playlist__container__items[_ngcontent-%COMP%]   .kabab-menu-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: var(--ion-color-primary-contrast);--color: var(--ion-color-secondary);--border-radius: 30px;--border-color: var(--ion-color-secondary);--border-style: solid;--border-width: 1px;--box-shadow: none}ion-modal[_ngcontent-%COMP%]{--height: fit-content}.btn-len[_ngcontent-%COMP%]{width:88%}.playlist-bot[_ngcontent-%COMP%]{text-align:center;position:absolute;left:50%;right:0;top:55%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:12px}.playlist-bot__image[_ngcontent-%COMP%]{height:7rem;width:7rem;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center}.playlist-bot__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;width:100%}.playlist-bot__text[_ngcontent-%COMP%]{text-align:center;color:var(--ion-color-medium);font-size:.75rem}.viewed-content[_ngcontent-%COMP%]{padding:1.5rem}.viewed-content__info[_ngcontent-%COMP%]{position:absolute;left:50%;right:0;top:20%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center}.viewed-content__info__image[_ngcontent-%COMP%]{height:5rem;width:5rem;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center}.viewed-content__info__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;width:100%}.viewed-content__info__text[_ngcontent-%COMP%]{text-align:center;color:var(--ion-color-medium);font-size:.75rem}"]}),c})()}];let Y=(()=>{var i;class c{}return(i=c).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.Bz.forChild(D),l.Bz]}),c})(),U=(()=>{var i;class c{}return(i=c).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[s.Pc,d.ez,u.u5,Y,v.aw]}),c})()},3522:(y,p,a)=>{"use strict";a.d(p,{l:()=>d});var s=a(3603);class d{static isTrackable(l){return(l=l.trackable?l:l.contentData&&l.contentData.trackable?l.contentData:l).trackable&&l.trackable.enabled?l.trackable.enabled===s.Ud.YES?1:l.mimeType===s.HY.COLLECTION?0:-1:l.contentType&&l.contentType.toLowerCase()===s.zc.COURSE.toLowerCase()?1:l.mimeType===s.HY.COLLECTION?0:-1}static getMimeType(l){const _=l.split(".").pop();let m="";switch(null==_?void 0:_.toLowerCase()){case"mp4":m=s.HY.VIDEO;break;case"pdf":m=s.HY.PDF;break;case"mp3":case"m4a":m=s.HY.AUDIOS;break;case"wav":m=s.HY.RECOEDED_AUDIO;break;case"youtube":m=s.HY.YOUTUBE}return m}static getImagePath(l){return{mp3:"/assets/images/Audio.png",mp4:"/assets/images/Video.png",webm:"/assets/images/Video.png",pdf:"/assets/images/PDF.png"}[l.split("/").pop()]}}},546:function(y){y.exports=function(a,s){if(null==s&&(s={fuzzy:!0}),/youtu\.?be/.test(a)){var d,u=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(d=0;d<u.length;++d)if(u[d].test(a))return u[d].exec(a)[1];if(s.fuzzy){var l=a.split(/[\/\&\?=#\.\s]/g);for(d=0;d<l.length;++d)if(/^[^#\&\?]{11}$/.test(l[d]))return l[d]}}return null}}}]);