(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9046],{277:(f,u,a)=>{"use strict";a.r(u),a.d(u,{PlaylistDetailsPageModule:()=>F});var d=a(6814),c=a(6223),r=a(1929),m=a(2724),p=a(5861),C=a(3603),b=a(6924),t=a(9212),D=a(6215),O=a(2579),x=a(3029),v=a(8698);function M(n,o){1&n&&(t.TgZ(0,"div",3)(1,"div",4),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Add content to the playlist")))}function T(n,o){if(1&n&&t._UZ(0,"img",15),2&n){const e=t.oxw(2).$implicit;t.Q6J("src",null!=e&&null!=e.metaData&&e.metaData.thumbnail&&!e.metaData.identifier.startsWith("do_")?null==e||null==e.metaData?null:e.metaData.thumbnail:"assets/images/Audio.png",t.LSH)}}function w(n,o){if(1&n&&t._UZ(0,"img",16),2&n){const e=t.oxw(2).$implicit;t.Q6J("appThumbnail",null==e?null:e.metaData)}}function Z(n,o){if(1&n&&t._UZ(0,"img",15),2&n){const e=t.oxw(2).$implicit;t.Q6J("src",null!=e&&null!=e.metaData&&e.metaData.thumbnail&&!e.metaData.identifier.startsWith("do_")?null==e||null==e.metaData?null:e.metaData.thumbnail:"assets/images/Video.png",t.LSH)}}function J(n,o){if(1&n&&t._UZ(0,"img",15),2&n){const e=t.oxw(2).$implicit;t.Q6J("src",null!=e&&null!=e.metaData&&e.metaData.thumbnail&&!e.metaData.identifier.startsWith("do_")?null==e||null==e.metaData?null:e.metaData.thumbnail:"assets/images/PDF.png",t.LSH)}}function S(n,o){1&n&&t._UZ(0,"ion-icon",17)}function j(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,s=t.oxw();return t.KtG(s.playContent(l))}),t.YNc(2,T,1,1,"img",9)(3,w,1,1,"img",10)(4,Z,1,1,"img",9)(5,J,1,1,"img",9),t.qZA(),t.TgZ(6,"div",11)(7,"div",12),t._uU(8),t.qZA(),t.TgZ(9,"ion-buttons"),t.YNc(10,S,1,0,"ion-icon",13),t.TgZ(11,"ion-icon",14),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,s=t.oxw();return t.KtG(s.moreOtions(l))}),t.qZA()()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Q6J("ngIf",(null==e||null==e.metaData?null:e.metaData.mimetype)===i.mimeType.AUDIO),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.metaData?null:e.metaData.mimetype)===i.mimeType.YOUTUBE&&!e.play),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.metaData?null:e.metaData.mimetype)===i.mimeType.MP4),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.metaData?null:e.metaData.mimetype)===i.mimeType.PDF),t.xp6(3),t.Oqu(null==e.metaData?null:e.metaData.name),t.xp6(2),t.Q6J("ngIf","local"===e.source)}}function I(n,o){if(1&n&&(t.TgZ(0,"div",5),t.YNc(1,j,12,6,"div",6),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.metaData)}}const Q=[{path:"",component:(()=>{var n;class o{constructor(i,l,s,g){var h;this.router=i,this.headerService=l,this.modalCtrl=s,this.playlistService=g,this.playlists=[],this.mimeType=C.Gn,this.navigated=!1,this.headerEventSub=null;let _=null===(h=this.router.getCurrentNavigation())||void 0===h?void 0:h.extras;var y;_&&(this.playContentObject=null===(y=_.state)||void 0===y?void 0:y.playlist,this.playContentObject.playListcontentList.map(P=>{P.metaData=JSON.parse(P.content_metadata)}),this.playlists=this.playContentObject.playListcontentList,console.log("playlists",this.playlists))}ngOnInit(){this.headerService.showHeader(this.playContentObject.name,!0,["edit"]),this.headerService.headerEventEmitted$.subscribe(i=>{"edit"===i?this.router.navigate(["/create-playlist"],{state:{playlists:this.playContentObject,islocal:!0}}):"back"===i&&!this.navigated&&(this.navigated=!0,this.router.navigate(["/tabs/my-pitara"]))})}ionViewWillEnter(){this.navigated=!1,this.headerService.showHeader(this.playContentObject.name,!0,["edit"])}ngOnDestroy(){try{this.headerEventSub&&this.headerEventSub.unsubscribe()}catch(i){console.log("error in unsubscribe",i)}}playContent(i){var l=this;return(0,p.Z)(function*(){yield l.router.navigate(["/player"],{state:{content:i}})})()}deletePlaylist(i){var l=this;return(0,p.Z)(function*(){yield l.playlistService.deleteContentFromPlayList(l.playContentObject.identifier,[i.identifier]).then(s=>{l.getPlaylistContent()}).catch(s=>{console.log("err",s)})})()}getPlaylistContent(){var i=this;return(0,p.Z)(function*(){yield i.playlistService.getPlayListContents(i.playContentObject.identifier).then(l=>{i.playlists=l,i.playlists.map(s=>{s.metaData=JSON.parse(s.content_metadata)}),i.playContentObject.playListcontentList=i.playlists})})()}moreOtions(i){var l=this;return(0,p.Z)(function*(){const s=yield l.modalCtrl.create({component:b.k,cssClass:"add-to-pitara",breakpoints:[0,1],showBackdrop:!1,initialBreakpoint:1,handle:!1,handleBehavior:"none"});yield s.present(),s.onWillDismiss().then(g=>{g&&"delete"===g.data.type?l.deletePlaylist(i):g&&"edit"===g.data.type&&l.router.navigate(["/create-playlist"],{state:{playlists:l.playContentObject,islocal:!0}})})})()}}return(n=o).\u0275fac=function(i){return new(i||n)(t.Y36(m.F0),t.Y36(D.uj),t.Y36(r.IN),t.Y36(O.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-playlist-details"]],decls:3,vars:3,consts:[[3,"fullscreen"],["class","bot-section",4,"ngIf"],["class","cards-container",4,"ngFor","ngForOf"],[1,"bot-section"],[1,"bot-section__text"],[1,"cards-container"],["class","card",4,"ngIf"],[1,"card"],[1,"card__img",3,"click"],["alt","",3,"src",4,"ngIf"],["appThumbnail","","alt","",3,"appThumbnail",4,"ngIf"],[1,"card__metadata"],[1,"card__title"],["aria-hidden","true","class","icon-right","src","assets/icon/sd-card.svg",4,"ngIf"],["aria-hidden","true","src","assets/icon/kabab-icon.svg",1,"icon-left",3,"click"],["alt","",3,"src"],["appThumbnail","","alt","",3,"appThumbnail"],["aria-hidden","true","src","assets/icon/sd-card.svg",1,"icon-right"]],template:function(i,l){1&i&&(t.TgZ(0,"ion-content",0),t.YNc(1,M,4,3,"div",1)(2,I,2,1,"div",2),t.qZA()),2&i&&(t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("ngIf",!l.playlists.length),t.xp6(1),t.Q6J("ngForOf",l.playlists))},dependencies:[d.sg,d.O5,r.Sm,r.W2,r.gu,x.W,v.X$],styles:[".cards-container[_ngcontent-%COMP%]{padding:.2rem 1rem}.cards-container[_ngcontent-%COMP%]   .bot-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 1rem 1rem}.cards-container[_ngcontent-%COMP%]   .bot-section[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative}.cards-container[_ngcontent-%COMP%]   .bot-section[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .image-title[_ngcontent-%COMP%]{position:absolute;bottom:.625rem;color:var(--ion-color-primary-contrast);left:0;right:0;text-align:center}.card[_ngcontent-%COMP%]{position:relative;padding-bottom:1rem}.card__img[_ngcontent-%COMP%]{height:194px;width:100%;overflow:hidden}.card__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;width:100%;height:100%;border-radius:1rem}.card__metadata[_ngcontent-%COMP%]{padding-top:.5rem;display:flex;align-items:center;justify-content:space-between}.card__metadata[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:1.75rem;width:1.75rem}.card__action-btns[_ngcontent-%COMP%]{display:flex;align-items:center}.card__action-btns[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;margin-right:1rem}.card__action-btns[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:last-child{margin-left:auto;margin-right:0}.card__title[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;width:90%;text-transform:capitalize;word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.no-data[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]{--padding-top: 3.5rem }.landscape-icon[_ngcontent-%COMP%]{position:absolute;width:100%;background:transparent;bottom:3.5rem;z-index:9999;background:var(--ion-color-secondary-contrast);opacity:.5}.landscape-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{float:right;font-size:1.5rem;margin-right:.5rem}.icon-right[_ngcontent-%COMP%]{margin-right:10px}.icon-left[_ngcontent-%COMP%]{margin-left:10px}.bot-section__text[_ngcontent-%COMP%]{position:absolute;left:46%;right:0;top:16%;transform:translate(-50%,-50%);text-align:center;color:var(--ion-color-medium);font-size:.75rem}"]}),o})()}];let z=(()=>{var n;class o{}return(n=o).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(Q),m.Bz]}),o})();var A=a(577);let F=(()=>{var n;class o{}return(n=o).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,c.u5,r.Pc,z,v.aw,A.o]}),o})()},546:function(f){f.exports=function(a,d){if(null==d&&(d={fuzzy:!0}),/youtu\.?be/.test(a)){var c,r=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(c=0;c<r.length;++c)if(r[c].test(a))return r[c].exec(a)[1];if(d.fuzzy){var m=a.split(/[\/\&\?=#\.\s]/g);for(c=0;c<m.length;++c)if(/^[^#\&\?]{11}$/.test(m[c]))return m[c]}}return null}}}]);